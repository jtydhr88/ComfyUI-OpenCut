(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{16224:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},21289:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>W});var a=t(28064),r=t(88077);let l=(0,r.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var c=t(45186),n=t(73539),i=t(80965),d=t(26880),o=t(43589);let m=(0,r.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),h=(0,r.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var x=t(85794),u=t(90254),p=t(30461),j=t(35021),f=t.n(j),y=t(59726),g=t(97215),N=t(74188),v=t(93442),k=t(44775),w=t(61309),b=t(93146);let C=N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("rounded-xl border bg-card text-card-foreground",t),...r})});C.displayName="Card",N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let A=N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("p-6 pt-0",t),...r})});A.displayName="CardContent",N.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var S=t(14446),z=t(54678),P=t(84843),D=t(46438);function M(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,b.cn)("animate-pulse rounded-md bg-primary/10",s),...t})}var R=t(82337),_=t(91685);function W(){let{savedProjects:e,isLoading:s,isInitialized:t,deleteProject:r,createNewProject:d,getFilteredAndSortedProjects:o}=(0,R.Iw)(),[m,h]=(0,N.useState)({}),[x,u]=(0,N.useState)(new Set),[p,j]=(0,N.useState)(!1),[k,b]=(0,N.useState)(new Set),[C,A]=(0,N.useState)(!1),[W,q]=(0,N.useState)(""),[B,V]=(0,N.useState)("createdAt-desc");(0,y.useRouter)();let F=(0,N.useCallback)(async e=>{if(void 0!==m[e])return m[e];u(s=>new Set(s).add(e));try{let s=await _.A.getState().getProjectThumbnail(e);return h(t=>({...t,[e]:s})),s}finally{u(s=>{let t=new Set(s);return t.delete(e),t})}},[]),L=async()=>{let e=await d("New Project");(0,g.C1)(e)},T=(e,s)=>{let t=new Set(k);s?t.add(e):t.delete(e),b(t)},Q=e=>{e?b(new Set(H.map(e=>e.id))):b(new Set)},U=()=>{j(!1),b(new Set)},Y=async()=>{await Promise.all(Array.from(k).map(e=>r(e))),b(new Set),j(!1),A(!1)},H=o(W,B),K=H.length>0&&k.size===H.length,X=k.size>0&&k.size<H.length;return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsxs)("div",{className:"pt-6 px-6 flex items-center justify-between w-full h-16",children:[(0,a.jsxs)(f(),{href:"/",className:"flex items-center gap-1 hover:text-muted-foreground transition-colors",children:[(0,a.jsx)(l,{className:"size-5! shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,a.jsx)("div",{className:"block md:hidden",children:p?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(w.$,{variant:"outline",size:"sm",onClick:U,children:[(0,a.jsx)(c.A,{className:"size-4!"}),"Cancel"]}),k.size>0&&(0,a.jsxs)(w.$,{variant:"destructive",size:"sm",onClick:()=>A(!0),children:[(0,a.jsx)(n.A,{className:"size-4!"}),"Delete (",k.size,")"]})]}):(0,a.jsx)(O,{onClick:L})})]}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-6 pt-6 pb-6",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Your Projects"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[e.length," ",1===e.length?"project":"projects",p&&k.size>0&&(0,a.jsxs)("span",{className:"ml-2 text-primary",children:["• ",k.size," selected"]})]})]}),(0,a.jsx)("div",{className:"hidden md:block",children:p?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(w.$,{variant:"outline",onClick:U,children:[(0,a.jsx)(c.A,{className:"size-4!"}),"Cancel"]}),k.size>0&&(0,a.jsxs)(w.$,{variant:"destructive",onClick:()=>A(!0),children:[(0,a.jsx)(n.A,{className:"size-4!"}),"Delete Selected (",k.size,")"]})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.$,{variant:"outline",onClick:()=>j(!0),disabled:0===e.length,children:"Select Projects"}),(0,a.jsx)(O,{onClick:L})]})})]}),(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1 max-w-72",children:(0,a.jsx)(P.p,{placeholder:"Search projects...",value:W,onChange:e=>q(e.target.value)})}),(0,a.jsx)("div",{className:"flex items-center gap-0",children:(0,a.jsx)(D.Bc,{children:(0,a.jsxs)(D.m_,{children:[(0,a.jsxs)(z.rI,{children:[(0,a.jsx)(D.k$,{asChild:!0,children:(0,a.jsx)(z.ty,{asChild:!0,children:(0,a.jsx)(w.$,{size:"icon",variant:"secondary",className:"justify-center items-center w-9 h-9",children:(0,a.jsx)(i.A,{strokeWidth:1.5,className:"!size-[1.05rem]"})})})}),(0,a.jsxs)(z.SQ,{align:"end",children:[(0,a.jsxs)(z._2,{onClick:()=>{B.startsWith("createdAt")?V(B.endsWith("asc")?"createdAt-desc":"createdAt-asc"):V("createdAt-asc")},children:["Created"," ",B.startsWith("createdAt")&&(B.endsWith("asc")?"↑":"↓")]}),(0,a.jsxs)(z._2,{onClick:()=>{B.startsWith("name")?V(B.endsWith("asc")?"name-desc":"name-asc"):V("name-asc")},children:["Name"," ",B.startsWith("name")&&(B.endsWith("asc")?"↑":"↓")]})]})]}),(0,a.jsx)(D.ZI,{children:(0,a.jsxs)("p",{children:["Sort by"," ",B.startsWith("createdAt")?"date":"name"," (",B.endsWith("asc")?"ascending":"descending",")"]})})]})})})]}),p&&H.length>0&&(0,a.jsxs)("button",{type:"button",onClick:()=>Q(!K),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),Q(!K))},className:"w-full hover:cursor-pointer gap-2 mb-6 p-4 bg-muted/30 rounded-lg border items-center flex",tabIndex:0,children:[(0,a.jsx)(S.S,{checked:X?"indeterminate":K}),(0,a.jsx)("span",{className:"text-sm font-medium",children:K?"Deselect All":"Select All"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",k.size," of ",H.length," selected)"]})]}),s||!t?(0,a.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8},(e,s)=>(0,a.jsxs)("div",{className:"overflow-hidden bg-background border-none p-0",children:[(0,a.jsx)(M,{className:"aspect-square w-full bg-muted/50"}),(0,a.jsxs)("div",{className:"px-0 pt-5 flex flex-col gap-1",children:[(0,a.jsx)(M,{className:"h-4 w-3/4 bg-muted/50"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(M,{className:"h-4 w-4 bg-muted/50"}),(0,a.jsx)(M,{className:"h-4 w-24 bg-muted/50"})]})]})]},"skeleton-".concat(s,"-").concat(Date.now())))}):0===e.length?(0,a.jsx)(E,{onCreateProject:L}):0===H.length?(0,a.jsx)(I,{searchQuery:W,onClearSearch:()=>q("")}):(0,a.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:H.map(e=>(0,a.jsx)($,{project:e,isSelectionMode:p,isSelected:k.has(e.id),onSelect:T,getProjectThumbnail:F},e.id))})]}),(0,a.jsx)(v.B,{isOpen:C,onOpenChange:A,onConfirm:Y})]})}function $(e){let{project:s,isSelectionMode:t=!1,isSelected:r=!1,onSelect:l,getProjectThumbnail:c}=e,[n,i]=(0,N.useState)(!1),[x,u]=(0,N.useState)(!1),[j,f]=(0,N.useState)(!1),[y,b]=(0,N.useState)(null),[P,D]=(0,N.useState)(!0),{deleteProject:M,renameProject:_,duplicateProject:W}=(0,R.Iw)();(0,N.useEffect)(()=>{(async()=>{D(!0);try{let e=await c(s.id);b(e)}finally{D(!1)}})()},[s.id,c]);let $=async()=>{await M(s.id),i(!1)},O=async e=>{await _(s.id,e),f(!1)},E=async()=>{i(!1),await W(s.id)},I=(0,a.jsxs)(C,{className:"overflow-hidden bg-background border-none p-0 transition-all ".concat(t&&r?"ring-2 ring-primary":""),children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-muted transition-opacity ".concat(n?"opacity-65":"opacity-100 group-hover:opacity-65"),children:[t&&(0,a.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-background/80 backdrop-blur-xs border flex items-center justify-center",children:(0,a.jsx)(S.S,{checked:r,onCheckedChange:e=>null==l?void 0:l(s.id,e),onClick:e=>e.stopPropagation(),className:"w-4 h-4"})})}),(0,a.jsx)("div",{className:"absolute inset-0",children:P?(0,a.jsx)("div",{className:"w-full h-full bg-muted/50 flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"h-12 w-12 text-muted-foreground animate-spin"})}):y?(0,a.jsx)(p.default,{src:y,alt:"Project thumbnail",fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-muted/50 flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"h-12 w-12 shrink-0 text-muted-foreground"})})})]}),(0,a.jsxs)(A,{className:"px-0 pt-5 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h3",{className:"font-medium text-sm leading-snug group-hover:text-foreground/90 transition-colors line-clamp-2",children:s.name}),!t&&(0,a.jsxs)(z.rI,{open:n,onOpenChange:i,children:[(0,a.jsx)(z.ty,{asChild:!0,children:(0,a.jsx)(w.$,{variant:"text",size:"sm",className:"size-6 p-0 transition-all shrink-0 ml-2 ".concat(n?"opacity-100":"opacity-0 group-hover:opacity-100"),onClick:e=>e.preventDefault(),children:(0,a.jsx)(m,{})})}),(0,a.jsxs)(z.SQ,{align:"end",onCloseAutoFocus:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,a.jsx)(z._2,{onClick:e=>{e.preventDefault(),e.stopPropagation(),i(!1),f(!0)},children:"Rename"}),(0,a.jsx)(z._2,{onClick:e=>{e.preventDefault(),e.stopPropagation(),E()},children:"Duplicate"}),(0,a.jsx)(z.mB,{}),(0,a.jsx)(z._2,{variant:"destructive",onClick:e=>{e.preventDefault(),e.stopPropagation(),i(!1),u(!0)},children:"Delete"})]})]})]}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[(0,a.jsx)(h,{className:"size-4!"}),(0,a.jsxs)("span",{children:["Created ",s.createdAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})})]})]});return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsx)("button",{type:"button",onClick:e=>{t&&(e.preventDefault(),null==l||l(s.id,!r))},onKeyDown:e=>{t&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==l||l(s.id,!r))},className:"block group cursor-pointer w-full text-left",children:I}):(0,a.jsx)("a",{href:"/opencut/editor?project=".concat(encodeURIComponent(s.id)),className:"block group",onClick:e=>{e.preventDefault(),(0,g.C1)(s.id)},children:I}),(0,a.jsx)(v.B,{isOpen:x,onOpenChange:u,onConfirm:$}),(0,a.jsx)(k.U,{isOpen:j,onOpenChange:f,onConfirm:O,projectName:s.name})]})}function O(e){let{onClick:s}=e;return(0,a.jsxs)(w.$,{className:"flex",onClick:s,children:[(0,a.jsx)(x.A,{className:"size-4!"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"New project"})]})}function E(e){let{onCreateProject:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:(0,a.jsx)(o.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Start creating your first video project. Import media, edit, and export professional videos."}),(0,a.jsxs)(w.$,{size:"lg",className:"gap-2",onClick:s,children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Create Your First Project"]})]})}function I(e){let{searchQuery:s,onClearSearch:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No results found"}),(0,a.jsxs)("p",{className:"text-muted-foreground mb-6 max-w-md",children:['Your search for "',s,'" did not return any results.']}),(0,a.jsx)(w.$,{onClick:t,variant:"outline",children:"Clear Search"})]})}},26880:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},30428:(e,s,t)=>{Promise.resolve().then(t.bind(t,21289))},37770:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},43589:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},45186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},57118:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},58090:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},59726:(e,s,t)=>{"use strict";var a=t(44578);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},61275:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},73539:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},80965:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("ArrowDown01",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2",key:"1bwicg"}],["path",{d:"M17 20v-6h-2",key:"1qp1so"}],["path",{d:"M15 20h4",key:"1j968p"}]])},85794:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},90254:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[7602,239,3823,8007,298,2851,8673,2650,7358],()=>e(e.s=30428)),_N_E=e.O()}]);
//# sourceMappingURL=page-fbdfeac9a7a1fdda.js.map